{{if fileExists "/layouts/partials/art.html"}}{{ partial "art.html" . }}{{end}}
{{ "<!-- Doctype HTML5 -->" | safeHTML }}
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <title>{{ block "title" . }}{{ .Site.Title }}{{ end }}</title>

    {{ partial "frame/meta.html" . }}

    {{ $template := resources.Get "scss/critical.scss" }}
    {{ $critical := $template | resources.ExecuteAsTemplate "critical.scss" . | toCSS | minify }}
    <style>{{ $critical.Content | safeCSS }}</style>

    {{ $sass := resources.Get "scss/style.scss" }}
    {{ if (fileExists "assets/scss/custom.scss") }}
        {{ $custom := resources.Get "scss/custom.scss" }}
        {{ $styles := slice ($sass | toCSS) ($custom | toCSS) | resources.Concat "style.css" | minify }}
        <link rel="stylesheet" href="{{ $styles.RelPermalink }}" />
    {{ else }}
        {{ $styles := $sass | toCSS | minify }}
        <link rel="stylesheet" href="{{ $styles.RelPermalink }}" />
    {{ end }}

    {{ if not .IsPage }}
        {{ with .Paginator }}{{ with .Next }}<link rel="next" href="{{ .URL }}"/>{{ end }}{{ end }}
        {{ with .Paginator }}{{ with .Prev }}<link rel="prev" href="{{ .URL }}"/>{{ end }}{{ end }}
    {{ else }}
        {{ with .Next }}<link rel="next" href="{{ .URL }}" />{{ end }}
        {{ with .Prev }}<link rel="prev" href="{{ .URL }}" />{{ end }}
    {{ end }}

    {{ with .Site.Params.fontawesome_sets }}
        {{ if gt (len .) 0 }}
            <script defer src="/js/fontawesome.min.js"></script>
            {{ range . }}
                <script defer src="/js/{{.}}.min.js"></script>
            {{ end }}
        {{ end }}
    {{ end }}
</head>
<body>
    {{ partial "frame/header.html" . }}
    {{ block "main" . }}{{ end }}
    {{ partial "frame/footer.html" . }}
    {{ partial "components/ga.html" . }}
    {{ partial "components/sw.html" . }}
</body>
</html>